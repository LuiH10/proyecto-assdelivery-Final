{% extends 'base.html' %}
{% block title %}Configuraci√≥n de Usuario{% endblock %}

{% block content %}

<style>
.config-container {
    max-width: 650px;
    margin: 40px auto;
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
}

h1 {
    text-align: center;
    color: #0e2033;
}

.btn-accion {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
}

.btn-guardar { background:#0e2033; color:white; }
.btn-eliminar { background:#a30000; color:white; margin-top:10px; }

.modal {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.55);
    justify-content:center;
    align-items:center;
}

.modal-contenido {
    background:white;
    padding:22px;
    width:420px;
    border-radius:10px;
    text-align:center;
    box-shadow:0 5px 20px rgba(0,0,0,0.3);
}

.campo {
    width:100%;
    padding:10px;
    margin-bottom:12px;
    border:1px solid #bbb;
    border-radius:6px;
}

.btn-confirmar { background:#a30000; color:white; }
.btn-cerrar { background:#333; color:white; margin-top:8px; }
</style>

<div class="config-container">

    <h1>‚öôÔ∏è Configuraci√≥n de Usuario</h1>

    <form method="POST">
        {% csrf_token %}

        <label>Nombre de usuario:</label>
        <input type="text" name="nombre" class="campo" value="{{ request.user.username }}">

        <label>Correo electr√≥nico:</label>
        <input type="email" name="correo" class="campo" value="{{ request.user.email }}">

        <label>Nueva contrase√±a:</label>
        <input type="password" name="password" class="campo">

        <button class="btn-accion btn-guardar">üíæ Guardar cambios</button>
    </form>

    <button class="btn-accion btn-eliminar" onclick="abrirModal()">
        üóëÔ∏è Eliminar consultor
    </button>

</div>


<!-- MODAL -->
<div id="modalEliminar" class="modal">
    <div class="modal-contenido">
        <h3>Eliminar consultor</h3>

        <form method="POST" action="{% url 'eliminar_consultor_directo' %}">
            {% csrf_token %}

            <label>Correo del consultor:</label>
            <input type="email" name="correo_consultor" class="campo" placeholder="correo@ejemplo.com" required>

            <button type="submit" class="btn-accion btn-confirmar">Eliminar</button>
        </form>

        <button class="btn-accion btn-cerrar" onclick="cerrarModal()">Cerrar</button>
    </div>
</div>


<script>
function abrirModal() {
    document.getElementById("modalEliminar").style.display = "flex";
}
function cerrarModal() {
    document.getElementById("modalEliminar").style.display = "none";
}
</script>

{% endblock %}
